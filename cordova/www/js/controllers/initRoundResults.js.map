{"version":3,"sources":["initRoundResults.js"],"names":["initRoundResult","results","handleOnPrevious","$","append","Handlebars","compile","pages","roundAnswers","reduce","acc","current","i","userResult","userGuess","apiConfidanceValue","apiGuess","apiEmotion","imagePath","Object","keys","risultatone","hide","show","direction","roundResultEventListener","accumulator","forEach","el","correctAnswer","emotion","String","lifeTime","click","playAgain"],"mappings":"AAAA;;AAEA,SAASA,eAAT,CAAyBC,OAAzB,EAAkCC,gBAAlC,EAAoD;AAClDC,IAAE,OAAF,EAAWC,MAAX,CAAkBC,WAAWC,OAAX,CAAmBC,MAAM,sBAAN,CAAnB,EAAkD;AAClEC,kBAAcP,QAAQQ,MAAR,CAAe,UAAUC,GAAV,EAAeC,OAAf,EAAwBC,CAAxB,EAA2B;AACtD,aAAOF,MAAML,WAAWC,OAAX,CAAmBC,MAAM,aAAN,CAAnB,EAAyC;AACpD;AACAM,oBAAYF,QAAQG,SAFgC;AAGpDC,4BAAoB,CAAC,EAAEJ,QAAQK,QAAR,CAAiB,CAAjB,IAAsB,GAAxB,CAH+B;AAIpDC,oBAAYN,QAAQK,QAAR,CAAiB,CAAjB,CAJwC;AAKpDE,mBAAW,iBAAiBC,OAAOC,IAAP,CAAYnB,QAAQW,CAAR,CAAZ,EAAwB,CAAxB,CAAjB,GAA8C;AALL,OAAzC,CAAb;AAOD,KARa,EAQX,EARW,CADoD;AAUlES,iBAAaA,YAAYpB,OAAZ;AAVqD,GAAlD,CAAlB;;AAaAE,IAAE,cAAcD,gBAAhB,EAAkCoB,IAAlC;AACAnB,IAAE,cAAF,EAAkBoB,IAAlB,CAAuB,OAAvB,EAAgC,EAAEC,WAAW,MAAb,EAAhC,EAAuD,GAAvD;;AAEAC;AACD;;AAED,SAASJ,WAAT,CAAqBpB,OAArB,EAA8B;AAC5B,MAAIyB,cAAc,CAAlB;AACAzB,UAAQ0B,OAAR,CAAgB,UAAUC,EAAV,EAAc;AAC5B,QAAIA,GAAGd,SAAH,KAAiBc,GAAGC,aAAH,CAAiBC,OAAjB,CAAyB,CAAzB,CAArB,EAAkDJ;AACnD,GAFD;AAGA,SAAOK,OAAOL,cAAc,CAAd,GAAkB,GAAzB,CAAP;AACD;AACD,SAASD,wBAAT,GAAoC;;AAElC,WAASO,QAAT,GAAoB;AAClB7B,MAAE,WAAF,EAAe8B,KAAf,CAAqB,YAAY;AAC/B9B,QAAE,cAAF,EAAkBmB,IAAlB;AACAnB,QAAE,eAAF,EAAmBoB,IAAnB,CAAwB,OAAxB,EAAiC,EAAEC,WAAW,OAAb,EAAjC,EAAyD,GAAzD;AACAvB,gBAAU,EAAV;AACD,KAJD;AAKD;AACD,WAASiC,SAAT,GAAqB;AACnB/B,MAAE,aAAF,EAAiB8B,KAAjB,CAAuB,YAAY;AACjC9B,QAAE,cAAF,EAAkBmB,IAAlB;AACAnB,QAAE,UAAF,EAAcoB,IAAd,CAAmB,OAAnB,EAA4B,EAAEC,WAAW,OAAb,EAA5B,EAAoD,GAApD;AACAvB,gBAAU,EAAV;AACD,KAJD;AAKAE,MAAE,aAAF,EAAiB8B,KAAjB,CAAuB,YAAY;AACjC9B,QAAE,eAAF,EAAmBmB,IAAnB;AACAnB,QAAE,UAAF,EAAcoB,IAAd,CAAmB,OAAnB,EAA4B,EAAEC,WAAW,OAAb,EAA5B,EAAoD,GAApD;AACAvB,gBAAU,EAAV;AACD,KAJD;AAKD;AACF;AACD","file":"initRoundResults.js","sourcesContent":["'use strict';\n\nfunction initRoundResult(results, handleOnPrevious) {\n  $('#main').append(Handlebars.compile(pages['roundResultContainer'])({\n    roundAnswers: results.reduce(function (acc, current, i) {\n      return acc + Handlebars.compile(pages['roundAnswer'])({\n        //here populate single answer stuff \n        userResult: current.userGuess,\n        apiConfidanceValue: ~~(current.apiGuess[1] * 100),\n        apiEmotion: current.apiGuess[0],\n        imagePath: 'assets/imgs/' + Object.keys(results[i])[0] + '.jpg'\n      });\n    }, ''),\n    risultatone: risultatone(results)\n  }));\n\n  $('#gamePage' + handleOnPrevious).hide();\n  $('#roundResult').show(\"slide\", { direction: \"left\" }, 500);\n\n  roundResultEventListener();\n}\n\nfunction risultatone(results) {\n  var accumulator = 0;\n  results.forEach(function (el) {\n    if (el.userGuess === el.correctAnswer.emotion[0]) accumulator++;\n  });\n  return String(accumulator / 5 * 100);\n}\nfunction roundResultEventListener() {\n\n  function lifeTime() {\n    $('#lifeTime').click(function () {\n      $('#roundResult').hide();\n      $('#lifeTimePage').show(\"slide\", { direction: \"right\" }, 500);\n      results = [];\n    });\n  }\n  function playAgain() {\n    $('#playAgain1').click(function () {\n      $('#roundResult').hide();\n      $('#landing').show(\"slide\", { direction: \"right\" }, 500);\n      results = [];\n    });\n    $('#playAgain2').click(function () {\n      $('#lifeTimePage').hide();\n      $('#landing').show(\"slide\", { direction: \"right\" }, 500);\n      results = [];\n    });\n  }\n}\n//# sourceMappingURL=initRoundResults.js.map\n"]}